<!DOCTYPE html>
<html>
<head>
  <title>Set New Password â€“ IGCHK</title>
  <style>
    body{
      font-family:Arial;
      background:#e7f0ff;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
    }
    .card{
      background:white;
      padding:30px;
      width:350px;
      border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,0.15);
    }
    input,button{
      width:100%;
      padding:10px;
      margin:8px 0;
      border-radius:6px;
      border:1px solid #87a9d9;
    }
    button{
      background:#1c4fa1;
      color:white;
      border:none;
      cursor:pointer;
    }
  </style>
</head>
<body>

<div class="card">
  <h2>Set New Password</h2>

  <input id="pw" type="password" placeholder="New Password">
  <button onclick="applyReset()">Update Password</button>
</div>

<script>
const token = new URLSearchParams(location.search).get("token");

async function applyReset() {
  let res = await fetch("/api/reset/apply", {
    method:"POST",
    body:JSON.stringify({ token, new_password: pw.value })
  });

  let json = await res.json();
  alert(json.message);
}
</script>

</body>
</html>
